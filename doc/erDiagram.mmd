flowchart TB
    %% ==========================================
    %% CLIENT & BUSINESS
    %% ==========================================
    CLIENT["<b>CLIENT</b>
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    uuid <b>id</b> PK
    string <b>name</b>
    string <b>contact_info</b>"]

    BUSINESS["<b>BUSINESS</b>
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    uuid <b>id</b> PK
    uuid <b>client_id</b> FK
    string <b>business_name</b>
    string <b>business_type</b>
    string <b>address</b>
    string <b>phone</b>
    string <b>timezone</b>
    string <b>currency</b>
    string <b>language</b>"]

    %% ==========================================
    %% VENUE (Building/Facility)
    %% ==========================================
    subgraph VenueDomain["ğŸ¢ Venue Domain"]
        direction TB
        VENUE["<b>VENUE</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>business_id</b> FK
        string <b>venue_name</b>
        string <b>address</b>
        int <b>room_count</b>
        int <b>number_of_beds</b>
        int <b>number_of_floors</b>
        string <b>operating_hours</b>
        string <b>license_number</b>"]

        ROOM["<b>ROOM</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>venue_id</b> FK
        string <b>room_number</b>
        string <b>room_type</b>
        string <b>occupancy_status</b>"]
    end

    %% ==========================================
    %% ORGANIZATIONAL STRUCTURE
    %% ==========================================
    subgraph OrgDomain["ğŸ‘¥ Organization Domain"]
        direction TB
        DEPARTMENT["<b>DEPARTMENT</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>business_id</b> FK
        string <b>department_name</b>
        text <b>description</b>"]

        STAFF["<b>STAFF</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>department_id</b> FK
        string <b>name</b>
        string <b>role</b>
        string <b>status</b>"]

        STAFF_VENUE["<b>STAFF_VENUE</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>staff_id</b> FK
        uuid <b>venue_id</b> FK
        string <b>role_in_venue</b>"]
    end

    %% ==========================================
    %% SERVICE & TASK SYSTEM
    %% ==========================================
    subgraph ServiceDomain["ğŸ› ï¸ Service Domain"]
        direction TB
        TASK["<b>TASK (SERVICE)</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>department_id</b> FK
        string <b>title</b>
        text <b>description</b>
        decimal <b>price</b>
        string <b>unit_type</b> (per room/bed/visit)
        string <b>interval</b> (frequency)
        int <b>duration_minutes</b>"]
    end

    %% ==========================================
    %% SALE SYSTEM (PACKAGES)
    %% ==========================================
    subgraph SaleDomain["ğŸ’° Sale System"]
        direction TB
        SALE_PACKAGE["<b>SALE PACKAGE</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>business_id</b> FK
        uuid <b>created_by_staff_id</b> FK
        string <b>name</b>
        text <b>description</b>
        decimal <b>price</b> (total price)
        decimal <b>package_margin</b>
        int <b>duration_days</b>
        decimal <b>total_base_cost</b>"]

        PACKAGE_ITEM["<b>PACKAGE_ITEM</b>
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        uuid <b>id</b> PK
        uuid <b>package_id</b> FK
        uuid <b>task_id</b> FK
        int <b>total_occurrences</b>
        int <b>room_multiplier</b>
        decimal <b>unit_cost_at_sale</b>
        decimal <b>total_item_cost</b>"]
    end

    %% ==========================================
    %% RELATIONSHIPS
    %% ==========================================
    
    CLIENT -->|1:N| BUSINESS
    BUSINESS -->|1:N| VENUE
    BUSINESS -->|1:N| DEPARTMENT
    BUSINESS -->|1:N| SALE_PACKAGE
    
    VENUE -->|1:N| ROOM
    DEPARTMENT -->|1:N| STAFF
    DEPARTMENT -->|1:N| TASK
    
    STAFF -->|N:N| STAFF_VENUE
    VENUE -->|N:N| STAFF_VENUE
    
    SALE_PACKAGE -->|1:N| PACKAGE_ITEM
    PACKAGE_ITEM -->|N:1| TASK
    
    STAFF -->|Calculates| SALE_PACKAGE
    
    %% ==========================================
    %% STYLING
    %% ==========================================
    classDef mainStyle fill:#f5f5f5,stroke:#333,stroke-width:2px
    classDef clientStyle fill:#e1bee7,stroke:#8e24aa,stroke-width:2px
    classDef venueStyle fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef orgStyle fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef serviceStyle fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    classDef saleStyle fill:#fff9c4,stroke:#f9a825,stroke-width:2px
    
    class CLIENT clientStyle
    class BUSINESS clientStyle
    class VENUE,ROOM venueStyle
    class DEPARTMENT,STAFF,STAFF_VENUE orgStyle
    class TASK serviceStyle
    class SALE_PACKAGE,PACKAGE_ITEM saleStyle
